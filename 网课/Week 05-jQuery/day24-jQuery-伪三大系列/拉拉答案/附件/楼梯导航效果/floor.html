<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <title>Document</title>
  <link rel="stylesheet" href="index.css">
</head>

<body>
  <div class="top">
    <img src="img/top1.png" alt="" />
  </div>
  <div class="louceng">
    <!-- 楼层1 -->
    <div class="jd jia">
      <img src="img/jia.png" alt="" />
    </div>
    <!-- 楼层2 -->
    <div class="jd dian">
      <img src="img/dian.png" alt="" />
    </div>
    <!-- 楼层3 -->
    <div class="jd fu">
      <img src="img/fu.png" alt="" />
    </div>
    <!-- 楼层4 -->
    <div class="jd mei">
      <img src="img/mei.png" alt="" />
    </div>
  </div>
  <div class="bottom">
    <img src="img/bottom.png" alt="" />
  </div>
  <!-- 侧边栏 -->
  <div class="subnav">
    <ul>
      <li>家电通讯</li>
      <li>电脑数码</li>
      <li>服饰精品</li>
      <li>美容珠宝</li>
    </ul>
    <div class="back">返回</div>

  </div>
  <script src="../../../lib/jquery-1.12.4.js"></script>
  <script>
    // 1. 完成楼梯导航部分效果(附件)：

    // - 页面已经给定，只需要写功能，不能随意编辑里面的html和css
    // - 功能1: 随着滚动条的滚动，滚动到一定距离，右边的侧边栏就会显示，否则就是隐藏
    // - 功能2：点击侧边栏的"返回"，页面就会回到最开始的位置
    // - 功能3: 随着滚动条的滚动，页面滚动到某一个楼层的时候，右侧的侧边栏对应的就会被选中，添加current这个类名

    // 功能1: 随着滚动条的滚动，滚动到一定距离，右边的侧边栏就会显示，否则就是隐藏

    // 1. 随着页面的滚动，滚动出去的距离大于等于第一个楼层距离页面顶部的距离，让右边的侧边栏显示，否则隐藏
    // 1.1 注册滚动事件
    $(window).scroll(function () {
      // 1.2滚动出去的距离大于等于第一个楼层距离页面顶部的距离
      // 1.3 获取页面滚动出去的距离
      var dTop = $(this).scrollTop()
      // 1.4 获取第一个楼层距离顶部的距离
      var floor1Top = $('.jd').eq(0).offset().top
      // 1.5进行比较
      if (dTop >= floor1Top) {
        //1.5.1 让右边的侧边栏显示 
        $('.subnav').show()
      } else {
        // 1.5.2 否则隐藏
        $('.subnav').hide()
      }

      // 功能3: 随着滚动条的滚动，页面滚动到某一个楼层的时候，右侧的侧边栏对应的就会被选中，添加current这个类名

      // 3.1 滚动出去的距离和每个楼层距离顶部的距离比较，符合就给对应的侧边栏加current类名
      if (dTop >= floor1Top) {
        // 3.1.1就给对应的侧边栏加current类名，其他的都移除这个类名
        //  jq里面的排他
        $('.subnav li').eq(0).addClass('current').siblings().removeClass('current')
      }

      // 3.2 滚动出去的距离和第二个楼层距离顶部的距离比较，符合就给对应的侧边栏加current类名
      if (dTop >= $('.jd').eq(1).offset().top) {
        // 3.1.1就给对应的侧边栏加current类名
        $('.subnav li').eq(1).addClass('current').siblings().removeClass('current')
      }
      // 3.3 滚动出去的距离和第三个楼层距离顶部的距离比较，符合就给对应的侧边栏加current类名
      if (dTop >= $('.jd').eq(2).offset().top) {
        // 3.1.1就给对应的侧边栏加current类名
        $('.subnav li').eq(2).addClass('current').siblings().removeClass('current')
      }

      // 3.4 滚动出去的距离和第四个楼层距离顶部的距离比较，符合就给对应的侧边栏加current类名
      if (dTop >= $('.jd').eq(3).offset().top) {
        // 3.1.1就给对应的侧边栏加current类名
        $('.subnav li').eq(3).addClass('current').siblings().removeClass('current')
      }

    })


    // 功能2：点击侧边栏的"返回"，页面就会回到最开始的位置

    // 点击返回，给页面设置scrollTop为0
    $('.back').click(function () {
      // 给页面设置scrollTop为0
      $(document).scrollTop(0)
    })



  </script>
</body>

</html>