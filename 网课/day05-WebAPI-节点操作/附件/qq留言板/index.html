<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>漠丶叹尘的空间</title>
	<link rel="icon" sizes="any" mask href="http://qzonestyle.gtimg.cn/qzone/v8/img/Qzone.svg">
	<link rel="stylesheet" type="text/css" href="css/index.css">
</head>

<body>
	<div class="header">
		This is the head nav
	</div>
	<div class="topInfo">
		<span class="edit">编辑</span>
		<div class="zoneName">
			<h2>漠丶叹尘 的空间</h2>
			<p>知我者，谓我心忧。不知我者，谓我何求。</p>
		</div>
		<div class="support">
			<img src="image/support_1.png" alt="赞">
			<span class="num">7</span>
		</div>
		<div class="tips">7人赞过</div>
		<!-- bottom nav -->
		<div class="top_bottom">
			<div class="photo">
				<img src="http://qlogo3.store.qq.com/qzone/1262283870/1262283870/100?1481718124">
			</div>
			<div class="uploadphoto">修改头像</div>
			<div class="container">
				<ul class="section">
					<li>主页</li>
					<li>日志</li>
					<li>相册</li>
					<li>留言板</li>
					<li>说说</li>
					<li>个人档</li>
					<li>音乐</li>
					<li>更多</li>
				</ul>
			</div>
		</div>
	</div>
	<!-- 下面实现留言板功能 -->
	<div class="mainframe">
		<div class="title">留言板</div>
		<div class="message">主人寄语</div>
		<div class="info">
			这是主人留下的寄语~
		</div>
		<div class="content" contenteditable="true"></div>
		<input type="button" name="submit" value="发表" class="subbtn">
		<div class="numofmessage">留言(0)</div>
		<!-- 下面是留言区 -->
		<div class="msgFrame">
			<div class="content_1">
				<img class="name" src="http://qlogo3.store.qq.com/qzone/1262283870/1262283870/100?1481718124"
					alt="photo">
				<div class="mainInfo">
					<div class="userId"><a href="#">zipple</a></div>
					<div class="conInfo">
						这是一条留言。
					</div>
					<div class="time">2016-12-19 23:46:11</div>
				</div>

			</div>
		</div>
	</div>
	<script src="./time.js"></script>
	<script>
		window.addEventListener("load", function () {
			// 获取输入框
			const content = document.querySelector('.content');

			// 获取发表按钮
			const btn = document.querySelector('.subbtn');
			console.log(btn);
			// 获取留言区
			const msg_frame = document.querySelector('.msgFrame');

			const li = document.createElement("li");
			btn.addEventListener("click", function () {
				if (content.innerHTML == "") {
					alert("你还没有输入内容");
				} else {
					// 添加的模块
					let div = document.createElement("div");
					let img = document.createElement('img');
					let a = document.createElement('a');
					// 获取留言内容
					msg_frame.insertBefore(div, msg_frame.children[0]);
					// 获取第一个节点
					const first = msg_frame.children[0];
					// 查找msg_frame里面的第一个子节点给它类名
					first.className = "content_1";
					/* ``````````````````````````````````` */
					// 然后给第一个子节点添加img标签
					first.insertBefore(img, first.children[0]);
					// 获取first里面的img
					const first_img = first.children[0];
					// 设置first_img的属性
					first_img.className = "name";
					first_img.src = "http://qlogo3.store.qq.com/qzone/1262283870/1262283870/100?1481718124";
					first.alt = "photo";
					// 在first_img后面创建一个class=mainInfo的div盒子
					console.log(first);
					// 再次创建一个div
					let div2 = document.createElement("div");
					first.appendChild(div2);
					// 获取这个新创建的div
					let first_div = first.children[1];
					// 给这个div添加类名
					first_div.className = "mainInfo";

					//  在 first_div里面创建一个class是userId的盒子
					// 再次创建一个div3
					let div3 = document.createElement("div");
					first_div.insertBefore(div3, first_div.children[0]);
					// 获取这个新创建的div
					let user_Id = first_div.children[0];
					user_Id.className = "userId";
					// 在user_Id里面创建一个a标签
					user_Id.insertBefore(a, user_Id.children[0]);
					// 获取这个a标签
					const user_Id_a = user_Id.children[0];
					user_Id_a.href = "#";
					a.innerHTML = "保留接口";


					// 在 first_div里面创建一个class是conInfo的盒子
					let div4 = document.createElement("div");
					first_div.appendChild(div4);
					// 获取添加的div
					let conInfo = first_div.children[1];
					conInfo.className = "conInfo";
					// 获取输入框的内容
					// console.log(content.innerHTML);
					conInfo.innerHTML = content.innerHTML;

					// 在 first_div里面创建一个class是time的盒子
					let div5 = document.createElement("div");
					first_div.appendChild(div5);
					// 获取添加的div
					let time = first_div.children[2];
					time.className = "time";
					time.innerHTML = getDateTimeNow();
				}


			})
		})
	</script>
</body>

</html>