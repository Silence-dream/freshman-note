<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />
	<title>Document</title>
	<style>
		body {
			background-color: black;
		}

		.hero {
			display: block;
			margin: 0 auto;
			padding: 0px;
			font-size: 16px;
			width: 400px;
			height: 36px;
			border-radius: 18px;
			outline: none;
			border: 1px solid #593f08;
			text-indent: 15px;
			background-color: rgba(89, 63, 8, 0.4);
			color: #d0b886;
		}

		.bg {
			width: 1144px;
			height: 635px;
			margin: 10px auto;
			background: url('images/yangpi_bg02.png') no-repeat;
		}

		.bg .left {
			width: 450px;
			height: 580px;
			float: left;
			margin-left: 56px;
			position: relative;
		}

		.left span {
			color: white;
		}

		.name_con {
			margin-top: 305px;
			font-size: 16px;
			color: #593f08;
			font-family: '楷体';
			font-weight: bold;
			line-height: 29px;
		}

		.showname {
			position: absolute;
			left: 100px;
			top: 131px;
			width: 240px;
			line-height: 60px;
			text-align: center;
			font-size: 30px;
			color: #593f08;
			font-weight: bold;
		}

		.left .name {
			font-size: 16px;
			color: #593f08;
			font-family: '楷体';
			font-weight: bold;
			line-height: 29px;
		}

		.title_con {
			font-size: 16px;
			color: #593f08;
			font-family: '楷体';
			font-weight: bold;
			line-height: 29px;
		}

		.left .title {
			font-size: 16px;
			color: #593f08;
			font-family: '楷体';
			font-weight: bold;
			line-height: 29px;
		}

		.story_con {
			margin: 0px;
			font-size: 16px;
			color: #593f08;
			font-family: '楷体';
			font-weight: bold;
			line-height: 29px;
			width: 460px;
			height: 200px;
			/* overflow: auto; */
			overflow: hidden;
		}

		.left .story {
			font-size: 16px;
			color: #593f08;
			font-family: '楷体';
			font-weight: bold;
			line-height: 29px;
		}

		.right {
			width: 547px;
			height: 560px;
			float: right;
			margin: 32px 42px 0 0;
			border: 2px solid #593f08;
			/* background-image: url(http://img1.dwstatic.com/lol/1512/315320556654/1451366974753.jpg); */
			background-position: right top;
			background-repeat: no-repeat;
		}

		.right img {
			width: 100%;
		}

		.hero-tit {
			font-size: 24px;
		}

		.hero-content {
			position: absolute;
			top: 60%;
		}

		.hero-content span {
			color: #593f08;
		}
	</style>
</head>

<body>

	<!-- <img class="icon" src="http://img.dwstatic.com/lol/1310/246295394773/1382341114833.png" alt="" /> -->



	<input type="text" class="hero" placeholder="输入英雄按下回车查询" />

	<div class="bg">
		<div class="left">
			<!-- 下面的信息是根据服务端响应的数据进行生成的 -->
			<div class="showname">提莫</div>
			<div class="hero-content story_con">
				<div class="hero-name">
					名称:
					<span>提莫</span>
				</div>
				<div class="hero-nickname">
					外号:
					<span>迅捷斥候</span>
				</div>
				<div class="hero-introduction">
					简介:
					<span>
						Teemo还有个隐藏被动技能，就是长了个全球嘲讽脸。每次团战必然会被敌方坦克和刺客类英雄集火，你的工作就是要用蘑菇风筝每一个攻击你的人，保持活着，有可能的话顺便杀个人。
					</span>
				</div>
			</div>
		</div>

		<div class="right">
		</div>

	</div>
	<script src="./libs/ajax.js"></script>
	<script src="./libs/jquery-1.12.4.min.js"></script>

	<!-- jquery -->
	<script>
		//     请求地址：https://autumnfish.cn/api/hero/info
		// 请求方法：get
		// 请求参数：name
		// 示例：https://autumnfish.cn/api/hero/info?name=提莫

		// 需求:
		//  1. 用户在表单中输入英雄，按下回车键后，根据接口文档发起请求，获取数据

		//  2. 将获取到的数据，在页面中展示，具体展示请看"效果图.png"

		/* 页面载入 */
		// $(".left").hide()

		// $(".hero").on("keydown", function (e) {
		// 	if (e.keyCode == 13) {

		// 		let heroInfo = $(this).val();
		// 		$.ajax({
		// 			type: "get",
		// 			url: "https://autumnfish.cn/api/hero/info",
		// 			data: "name=" + heroInfo,
		// 			success: function (response) {
		// 				console.log(response);
		// 				let objInfo = response;
		// 				// bg: "http://ossweb-img.qq.com/images/lol/web201310/skin/big17000.jpg"
		// 				// icon: "http://ossweb-img.qq.com/images/lol/web201310/skin/small17000.jpg"
		// 				// name: "提莫"
		// 				// story: "Teemo还有个隐藏被动技能，就是长了个全球嘲讽脸。每次团战必然会被敌方坦克和刺客类英雄集火，你的工作就是要用蘑菇风筝每一个攻击你的人，保持活着，有可能的话顺便杀个人。"
		// 				// title: "迅捷斥候"

		// 				/* 显示left */
		// 				$(".left").show();
		// 				/* 上图 */
		// 				$(".right").css({
		// 					"backgroundImage": `url(${objInfo.bg})`
		// 				})
		// 				/* 上标题和名称 */
		// 				$(".showname").html(objInfo.name);
		// 				$(".hero-name span").html(objInfo.name);

		// 				/* 上外号 */
		// 				$(".hero-nickname span").html(objInfo.title);
		// 				/* 上简介 */
		// 				$(".hero-introduction span").html(objInfo.story);


		// 				if (objInfo == "没有找到，是不是名字写错了啊") {
		// 					$(".left").hide()
		// 				}
		// 			}
		// 		});
		// 	}
		// });
	</script>

	<!-- 二 -->
	<script>
		$(".left").hide()
		$(".hero").on("keydown", function (e) {
			if (e.keyCode == 13) {

				let heroInfo = $(this).val();
				yi.ajax({
					type: 'GET',
					url: 'https://autumnfish.cn/api/hero/info',
					// 把对象变成name=zs&age=18
					data: {
						name: heroInfo,
					},
					success: function (data) {
						console.log(data);
						let objInfo = JSON.parse(data);


						/* 显示left */
						$(".left").show();
						/* 上图 */
						$(".right").css({
							"backgroundImage": `url(${objInfo.bg})`
						})
						/* 上标题和名称 */
						$(".showname").html(objInfo.name);
						$(".hero-name span").html(objInfo.name);

						/* 上外号 */
						$(".hero-nickname span").html(objInfo.title);
						/* 上简介 */
						$(".hero-introduction span").html(objInfo.story);


						if (objInfo == "没有找到，是不是名字写错了啊") {
							$(".left").hide()
						}
					}
				})

			}
		});
	</script>

</body>

</html>