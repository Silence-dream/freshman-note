<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script>
        // 1. 录入6个学生成绩信息， 用数组对象存储学生信息，每个学生拥有的属性是学号，姓名，年龄，成绩，例子如下:
        // var studentArr = [
        //     { sId: 1, name: '张三', age: 18, score: 80 }
        // ]
        // 根据现有的存储数据, 和用户进行交互, 完成对数据的, 增, 删, 改, 查, 的功能.

        //     交互设计: 提示用户功能选择 
        // 数据处理:
        // 增删改查局部功能的实现:
        // 增: 提示用户输入用户名, 程序校验是否有重复的姓名, 如果有就告知已经存在，需要再次重新输入名字，如果没有就添加进数组, 并告知用户添加成功, 弹出输出数组进行校验.
        // 删: 提示用户输入要删除的用户名, 程序校验是否有该用户名, 如果有就删除, 并返回用户删除成功提醒, 弹出数组校验，如果没有就告知用户该用户不存在，需要重新输入要删除的用户名
        // 改: 提示用户输入要修改的用户名 程序校验改用户名是否存在 如果有就修改相应索引对应的项, 并告知用户修改成功, 打印校验 如果没有就告知改用户不存在，需要重新输入要删除的用户名
        // 查: 提示用户输入要查找的用户名 ，所以有就弹出有, 没有就弹出没有.
        //     全栈12班学员名单操作指南：1：增加用户； 2：删除用户；3：修改用户； 4：查找用户
        // 请输入操作模块编号：
        // 请输入要增加学员名称。



        //定于数组存储对象
        let studentArr = [
            { sID: 1, name: "张三", age: 18, score: 80 },
            { sID: 2, name: "李四", age: 18, score: 80 },
            { sID: 3, name: "王五", age: 18, score: 80 },
            { sID: 4, name: "赵六", age: 18, score: 80 },
            { sID: 5, name: "刘一", age: 18, score: 80 },
            { sID: 6, name: "陈二", age: 18, score: 80 }
        ];

        do {
            //增
            //检测用户输入的数字 
            let user = +prompt("1:增加用户;2:删除用户;3:修改用户;4:查找用户,5:退出");

            //判断用户输入的数字实现功能
            if (user == 1) {
                //定义变量判断开关
                let temp = true;
                while (temp) {
                    //接收用户输入的名字
                    let userName = prompt("请输入用户名");
                    //遍历数组判断是否有重复的姓名
                    for (key in studentArr) {
                        // 判断是否有重复的姓名
                        if (studentArr[key].name === userName) {
                            alert(`已经存在${userName}请重新输入`);
                            temp = false;
                        }

                    }

                    if (temp) {
                        let userAge = +prompt("请输入用户名年龄");
                        let userScore = +prompt("请输入用户名分数");
                        studentArr.push({
                            sID: studentArr.length + 1,
                            name: userName,
                            age: userAge,
                            score: userScore
                        });
                        //打印❤❤的原理
                        let str = "学号 姓名 年龄 分数\n"
                        for (let i = 0; i < studentArr.length; i++) {
                            str +=
                                `  ${studentArr[i].sID}    ${studentArr[i].name}  ${studentArr[i].age}    ${studentArr[i].score} \n`;
                        }
                        //输出结果
                        alert(str);
                        temp = false;
                        break;
                    }

                }
            }

            //删
            if (user == 2) {
                //定义循环的开关
                let temp = true;
                while (temp) {
                    //让用户输入要删除的用户名
                    let userName = prompt("请输入要删除的用户名");
                    // 遍历数组studentArr寻找输入的用户名
                    for (let i = 0; i < studentArr.length; i++) {
                        //if判断用户输入的用户名是否存在
                        if (studentArr[i].name == userName) {
                            //执行删除操作
                            studentArr.splice(i, 1);
                            alert("删除成功");
                            //输出
                            let str = "学号 姓名 年龄 分数\n"
                            for (let i = 0; i < studentArr.length; i++) {
                                str +=
                                    `  ${studentArr[i].sID}    ${studentArr[i].name}  ${studentArr[i].age}    ${studentArr[i].score} \n`;
                            }
                            alert(str);
                            temp = false;
                            break;
                        } else {
                            alert("没有这个用户名请重新输入");
                            break;
                            temp = true;
                        }
                    }
                }
            }

            //改
            if (user == 3) {
                //定义用户输入
                let userName = prompt("请输入要修改的用户名");
                let temp = true;
                while (temp) {
                    // 遍历数组对象寻找要修改的用户名
                    for (let i = 0; i < studentArr.length; i++) {
                        //判断是否存在这个用户名
                        if (userName == studentArr[i].name) {
                            //让用户输入要修改的东西
                            let userX = prompt("1、修改学号 2、修改姓名 3、修改年龄 4、修改成绩");
                            if (userX == 1) {
                                let userSid = prompt("请输入要修改的学号");
                                studentArr[i].sID = userSid;
                            }
                            if (userX == 2) {
                                let userName = prompt("请输入要修改的姓名");
                                studentArr[i].name = userName;
                            }
                            if (userX == 3) {
                                let userAge = prompt("请输入要修改的年龄");
                                studentArr[i].age = userAge;
                            }
                            if (userX == 4) {
                                let userScore = prompt("请输入要修改的成绩");
                                studentArr[i].score = userScore;
                            }
                            //输出
                            let str = "学号 姓名 年龄 分数\n"
                            for (let i = 0; i < studentArr.length; i++) {
                                str +=
                                    `  ${studentArr[i].sID}    ${studentArr[i].name}  ${studentArr[i].age}    ${studentArr[i].score} \n`;
                            }
                            alert(str);
                            temp = false;
                            break;
                        } else {
                            alert("这个用户名不存在请重新输入要删除的用户名");
                            temp = false;
                            break;
                        }
                    }
                }
            }

            //查
            if (user == 4) {

                //定义循环开关
                let temp = true;
                while (temp) {
                    //让用户输入用户名查找是否存在
                    let userName = prompt("请输入你要查找的用户名");
                    // 遍历数组对象寻找这个用户名是否存在
                    for (key in studentArr) {
                        //如果存在就输出有
                        if (userName == studentArr[key].name) {
                            alert(`有  ${userName}  这个用户`);
                            temp = false;
                            break;
                        } else {
                            alert(`没有  ${userName}  这个用户，请重新输入`);
                            break;
                        }
                    }
                }
            }
            if (user == 5) {
                break;
            }
            if (user != 1 && user != 2 && user != 3 && user != 4 && user != 5) {
                alert("1-5之间的数");
            }
        } while (1)
    </script>

</head>

<body>

</body>

</html>